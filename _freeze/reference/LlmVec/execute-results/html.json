{
  "hash": "68ba5ba7f5ee0162aacd32b63d4f3b5e",
  "result": {
    "engine": "jupyter",
    "markdown": "---\ntitle: LlmVec\n---\n\n\n\n`LlmVec(self, backend='', model='', _cache='_mall_cache', **kwargs)`\n\nClass that adds ability to use an LLM to run batch predictions\n\n\n::: {#59a49358 .cell execution_count=1}\n``` {.python .cell-code}\nfrom chatlas import ChatOllama\nfrom mall import LlmVec\n\nchat = ChatOllama(model = \"llama3.2\")\n\nllm = LlmVec(chat)    \n```\n\n::: {.cell-output .cell-output-stderr}\n```\n/Users/edgar/Projects/mall/python/.venv/lib/python3.12/site-packages/pydantic/_internal/_fields.py:132: UserWarning: Field \"model_format\" in ContentToolResult has conflict with protected namespace \"model_\".\n\nYou may be able to resolve this warning by setting `model_config['protected_namespaces'] = ()`.\n  warnings.warn(\n```\n:::\n:::\n\n\n## Methods\n\n| Name | Description |\n| --- | --- |\n| [classify](#mall.LlmVec.classify) | Classify text into specific categories. |\n| [custom](#mall.LlmVec.custom) | Provide the full prompt that the LLM will process. |\n| [extract](#mall.LlmVec.extract) | Pull a specific label from the text. |\n| [sentiment](#mall.LlmVec.sentiment) | Use an LLM to run a sentiment analysis |\n| [summarize](#mall.LlmVec.summarize) | Summarize the text down to a specific number of words. |\n| [translate](#mall.LlmVec.translate) | Translate text into another language. |\n| [verify](#mall.LlmVec.verify) | Check to see if something is true about the text. |\n\n### classify { #mall.LlmVec.classify }\n\n`LlmVec.classify(x, labels='', additional='')`\n\nClassify text into specific categories.\n\n#### Parameters\n\n| Name         | Type   | Description                                                                                                             | Default    |\n|--------------|--------|-------------------------------------------------------------------------------------------------------------------------|------------|\n| `x`          | list   | A list of texts                                                                                                         | _required_ |\n| `labels`     | list   | A list or a DICT object that defines the categories to classify the text as. It will return one of the provided labels. | `''`       |\n| `additional` | str    | Inserts this text into the prompt sent to the LLM                                                                       | `''`       |\n\n#### Examples\n\n::: {#ce63dedd .cell execution_count=2}\n``` {.python .cell-code}\nllm.classify(['this is important!', 'there is no rush'], ['urgent', 'not urgent'])\n```\n\n::: {.cell-output .cell-output-display execution_count=2}\n```\n['urgent', None]\n```\n:::\n:::\n\n\n### custom { #mall.LlmVec.custom }\n\n`LlmVec.custom(x, prompt='', valid_resps='')`\n\nProvide the full prompt that the LLM will process.\n\n#### Parameters\n\n| Name     | Type   | Description                                        | Default    |\n|----------|--------|----------------------------------------------------|------------|\n| `x`      | list   | A list of texts                                    | _required_ |\n| `prompt` | str    | The prompt to send to the LLM along with the `col` | `''`       |\n\n### extract { #mall.LlmVec.extract }\n\n`LlmVec.extract(x, labels='', additional='')`\n\nPull a specific label from the text.\n\n#### Parameters\n\n| Name         | Type   | Description                                                                    | Default    |\n|--------------|--------|--------------------------------------------------------------------------------|------------|\n| `x`          | list   | A list of texts                                                                | _required_ |\n| `labels`     | list   | A list or a DICT object that defines tells the LLM what to look for and return | `''`       |\n| `additional` | str    | Inserts this text into the prompt sent to the LLM                              | `''`       |\n\n#### Examples\n\n::: {#59271e0e .cell execution_count=3}\n``` {.python .cell-code}\nllm.extract(['bob smith, 123 3rd street'], labels=['name', 'address'])\n```\n\n::: {.cell-output .cell-output-display execution_count=3}\n```\n['| bob smith | 123 3rd street |']\n```\n:::\n:::\n\n\n### sentiment { #mall.LlmVec.sentiment }\n\n`LlmVec.sentiment(x, options=['positive', 'negative', 'neutral'], additional='')`\n\nUse an LLM to run a sentiment analysis\n\n#### Parameters\n\n| Name         | Type         | Description                                                    | Default                               |\n|--------------|--------------|----------------------------------------------------------------|---------------------------------------|\n| `x`          | list         | A list of texts                                                | _required_                            |\n| `options`    | list or dict | A list of the sentiment options to use, or a named DICT object | `['positive', 'negative', 'neutral']` |\n| `additional` | str          | Inserts this text into the prompt sent to the LLM              | `''`                                  |\n\n#### Examples\n\n::: {#0647089e .cell execution_count=4}\n``` {.python .cell-code}\nllm.sentiment(['I am happy', 'I am sad'])\n```\n\n::: {.cell-output .cell-output-display execution_count=4}\n```\n['positive', 'negative']\n```\n:::\n:::\n\n\n### summarize { #mall.LlmVec.summarize }\n\n`LlmVec.summarize(x, max_words=10, additional='')`\n\nSummarize the text down to a specific number of words.\n\n#### Parameters\n\n| Name         | Type   | Description                                       | Default    |\n|--------------|--------|---------------------------------------------------|------------|\n| `x`          | list   | A list of texts                                   | _required_ |\n| `max_words`  | int    | Maximum number of words to use for the summary    | `10`       |\n| `additional` | str    | Inserts this text into the prompt sent to the LLM | `''`       |\n\n#### Examples\n\n::: {#bb671e3c .cell execution_count=5}\n``` {.python .cell-code}\nllm.summarize(['This has been the best TV Ive ever used. Great screen, and sound.'], max_words = 5)\n```\n\n::: {.cell-output .cell-output-display execution_count=5}\n```\n['this tv has exceeded expectations']\n```\n:::\n:::\n\n\n### translate { #mall.LlmVec.translate }\n\n`LlmVec.translate(x, language='', additional='')`\n\nTranslate text into another language.\n\n#### Parameters\n\n| Name         | Type   | Description                                                | Default    |\n|--------------|--------|------------------------------------------------------------|------------|\n| `x`          | list   | A list of texts                                            | _required_ |\n| `language`   | str    | The target language to translate to. For example 'French'. | `''`       |\n| `additional` | str    | Inserts this text into the prompt sent to the LLM          | `''`       |\n\n#### Examples\n\n::: {#9465c6b2 .cell execution_count=6}\n``` {.python .cell-code}\nllm.translate(['This has been the best TV Ive ever used. Great screen, and sound.'], language = 'spanish')\n```\n\n::: {.cell-output .cell-output-display execution_count=6}\n```\n['Esto ha sido la mejor televisi√≥n que he tenido, gran pantalla y sonido.']\n```\n:::\n:::\n\n\n### verify { #mall.LlmVec.verify }\n\n`LlmVec.verify(x, what='', yes_no=[1, 0], additional='')`\n\nCheck to see if something is true about the text.\n\n#### Parameters\n\n| Name         | Type   | Description                                                                                                                                                                  | Default    |\n|--------------|--------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------|\n| `x`          | list   | A list of texts                                                                                                                                                              | _required_ |\n| `what`       | str    | The statement or question that needs to be verified against the provided text                                                                                                | `''`       |\n| `yes_no`     | list   | A positional list of size 2, which contains the values to return if true and false. The first position will be used as the 'true' value, and the second as the 'false' value | `[1, 0]`   |\n| `additional` | str    | Inserts this text into the prompt sent to the LLM                                                                                                                            | `''`       |\n\n",
    "supporting": [
      "LlmVec_files"
    ],
    "filters": [],
    "includes": {}
  }
}